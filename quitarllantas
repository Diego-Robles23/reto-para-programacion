#include <iostream>
#include <chrono>
#include <thread>
#include <cmath>

double calculotiempo(double distancia, double velocidad, double peso){
    return std::abs(distancia)/(std::abs(velocidad)*(peso/50.0));
}

void controlarobot(const std::string &accion, double distancia, double velocidad, double peso, int &tiempotr){
    double tiempo = calculotiempo(distancia, velocidad, peso);
    if (accion == "gira a la derecha" || accion == "toma la llanta" || accion == "deja la llanta"){
        tiempo = 3.0;
    }
    std::cout << "El robot " << accion << "durante " << tiempo << " segundos" << std::endl;
    tiempotr += static_cast<int>(tiempo);
    std::this_thread::sleep_for(std::chrono::seconds(static_cast<int>(tiempo)));
}

int main(){
    double pesorobot = 50.0;
    const int tiempotot = 15;
    int tiempotr = 0;
    double distanciare = 1.0;
    double velocidadmotor = 0.7;

    controlarobot("avanza", distanciare, velocidadmotor, pesorobot, tiempotr);
    controlarobot("gira a la derecha", 0, 0.5, pesorobot, tiempotr);
    controlarobot("toma la llanta", 0, 0, pesorobot, tiempotr);
    controlarobot("gira a la derecha", 0, 0.5, pesorobot, tiempotr);
    controlarobot("avanza de regreso", distanciare, velocidadmotor, pesorobot, tiempotr);
    controlarobot("deja la llanta", 0, 0, pesorobot, tiempotr);

    int tiemporest = tiempotot - tiempotr;
    std::cout << "tiempo utilizado:" << tiempotr << "segundos" << std::endl;
    if (tiemporest > 0) {
        std::cout << "tiempo restante: " << tiemporest << " segundos." << std::endl;
    } else {
        std::cout << "el robot uso todo el tiempo" << std::endl;
    }

    return 0;
}
